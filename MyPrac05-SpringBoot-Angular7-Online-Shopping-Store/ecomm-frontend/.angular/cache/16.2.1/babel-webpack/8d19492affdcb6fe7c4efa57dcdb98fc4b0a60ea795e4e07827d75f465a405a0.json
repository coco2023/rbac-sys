{"ast":null,"code":"var _class;\nimport { Role } from 'src/app/enum/Role';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user.service\";\nimport * as i2 from \"@angular/router\";\nclass NavigationComponent {\n  constructor(userService, router) {\n    this.userService = userService;\n    this.router = router;\n    this.root = '/';\n    this.Role = Role;\n  }\n  ngOnInit() {\n    this.name$ = this.userService.name$.subscribe(aName => this.name = aName);\n    this.currentUserSubscription = this.userService.currentUser.subscribe(user => {\n      this.currentUser = user;\n      if (!user || user.role == Role.Customer) {\n        this.root = '/';\n      } else {\n        this.root = '/seller';\n      }\n    });\n  }\n  ngOnDestroy() {\n    if (this.currentUserSubscription) {\n      this.currentUserSubscription.unsubscribe();\n    }\n    // this.name$.unsubscribe();\n  }\n\n  logout() {\n    this.userService.logout();\n    // this.router.navigate(['/login'], {queryParams: {logout: 'true'}} );\n  }\n}\n_class = NavigationComponent;\n_class.ɵfac = function NavigationComponent_Factory(t) {\n  return new (t || _class)(i0.ɵɵdirectiveInject(i1.UserService), i0.ɵɵdirectiveInject(i2.Router));\n};\n_class.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n  type: _class,\n  selectors: [[\"app-navigation\"]],\n  decls: 4,\n  vars: 1,\n  consts: [[1, \"navbar\", \"navbar-expand-lg\", \"navbar-dark\", \"bg-dark\"], [1, \"navbar-brand\", 3, \"routerLink\"], [\"src\", \"/assets/logo.png\", \"alt\", \"\", 1, \"d-inline-block\", \"align-top\"]],\n  template: function NavigationComponent_Template(rf, ctx) {\n    if (rf & 1) {\n      i0.ɵɵelementStart(0, \"nav\", 0)(1, \"a\", 1);\n      i0.ɵɵelement(2, \"img\", 2);\n      i0.ɵɵtext(3, \" Keyu Han - online Shop \");\n      i0.ɵɵelementEnd()();\n    }\n    if (rf & 2) {\n      i0.ɵɵadvance(1);\n      i0.ɵɵproperty(\"routerLink\", ctx.root);\n    }\n  },\n  dependencies: [i2.RouterLink],\n  styles: [\"/*# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbXSwibmFtZXMiOltdLCJtYXBwaW5ncyI6IiIsInNvdXJjZVJvb3QiOiIifQ== */\"]\n});\nexport { NavigationComponent };","map":{"version":3,"names":["Role","NavigationComponent","constructor","userService","router","root","ngOnInit","name$","subscribe","aName","name","currentUserSubscription","currentUser","user","role","Customer","ngOnDestroy","unsubscribe","logout","i0","ɵɵdirectiveInject","i1","UserService","i2","Router","selectors","decls","vars","consts","template","NavigationComponent_Template","rf","ctx","ɵɵelementStart","ɵɵelement","ɵɵtext","ɵɵelementEnd","ɵɵadvance","ɵɵproperty"],"sources":["D:\\1Learn\\2022CVProject\\20230222CogentTrain\\20230613Rbac\\rbac-sys\\MyPrac05-SpringBoot-Angular7-Online-Shopping-Store\\ecomm-frontend\\src\\app\\pages\\navigation\\navigation.component.ts","D:\\1Learn\\2022CVProject\\20230222CogentTrain\\20230613Rbac\\rbac-sys\\MyPrac05-SpringBoot-Angular7-Online-Shopping-Store\\ecomm-frontend\\src\\app\\pages\\navigation\\navigation.component.html"],"sourcesContent":["import { Component, OnDestroy, OnInit } from '@angular/core';\nimport { Router } from '@angular/router';\nimport { Subscription } from 'rxjs';\nimport { Role } from 'src/app/enum/Role';\nimport { JwtResponse } from 'src/app/response/JwtResponse';\nimport { UserService } from 'src/app/services/user.service';\n\n@Component({\n  selector: 'app-navigation',\n  templateUrl: './navigation.component.html',\n  styleUrls: ['./navigation.component.css']\n})\nexport class NavigationComponent implements OnInit, OnDestroy {\n\n\n  currentUserSubscription: Subscription | undefined;\n  name$: Subscription | undefined;\n  name: string | undefined;\n  currentUser: JwtResponse | undefined;\n  root = '/';\n  Role = Role;\n\n  constructor(private userService: UserService,\n              private router: Router,\n  ) {\n\n  }\n\n\n  ngOnInit() {\n      this.name$ = this.userService.name$.subscribe(aName => this.name = aName);\n      this.currentUserSubscription = this.userService.currentUser.subscribe(user => {\n          this.currentUser = user;\n          if (!user || user.role == Role.Customer) {\n              this.root = '/';\n          } else {\n              this.root = '/seller';\n          }\n      });\n  }\n\n  ngOnDestroy(): void {\n    if (this.currentUserSubscription) {\n      this.currentUserSubscription.unsubscribe();\n  }\n    // this.name$.unsubscribe();\n  }\n\n  logout() {\n      this.userService.logout();\n      // this.router.navigate(['/login'], {queryParams: {logout: 'true'}} );\n  }\n\n}\n","<nav class=\"navbar navbar-expand-lg navbar-dark bg-dark\">\n    <a class=\"navbar-brand\" [routerLink]=\"root\">\n        <img src=\"/assets/logo.png\" class=\"d-inline-block align-top\" alt=\"\">\n        Keyu Han - online Shop\n    </a>\n\n\n</nav>\n"],"mappings":";AAGA,SAASA,IAAI,QAAQ,mBAAmB;;;;AAIxC,MAKaC,mBAAmB;EAU9BC,YAAoBC,WAAwB,EACxBC,MAAc;IADd,KAAAD,WAAW,GAAXA,WAAW;IACX,KAAAC,MAAM,GAANA,MAAM;IAJ1B,KAAAC,IAAI,GAAG,GAAG;IACV,KAAAL,IAAI,GAAGA,IAAI;EAMX;EAGAM,QAAQA,CAAA;IACJ,IAAI,CAACC,KAAK,GAAG,IAAI,CAACJ,WAAW,CAACI,KAAK,CAACC,SAAS,CAACC,KAAK,IAAI,IAAI,CAACC,IAAI,GAAGD,KAAK,CAAC;IACzE,IAAI,CAACE,uBAAuB,GAAG,IAAI,CAACR,WAAW,CAACS,WAAW,CAACJ,SAAS,CAACK,IAAI,IAAG;MACzE,IAAI,CAACD,WAAW,GAAGC,IAAI;MACvB,IAAI,CAACA,IAAI,IAAIA,IAAI,CAACC,IAAI,IAAId,IAAI,CAACe,QAAQ,EAAE;QACrC,IAAI,CAACV,IAAI,GAAG,GAAG;OAClB,MAAM;QACH,IAAI,CAACA,IAAI,GAAG,SAAS;;IAE7B,CAAC,CAAC;EACN;EAEAW,WAAWA,CAAA;IACT,IAAI,IAAI,CAACL,uBAAuB,EAAE;MAChC,IAAI,CAACA,uBAAuB,CAACM,WAAW,EAAE;;IAE5C;EACF;;EAEAC,MAAMA,CAAA;IACF,IAAI,CAACf,WAAW,CAACe,MAAM,EAAE;IACzB;EACJ;;SAvCWjB,mBAAmB;;mBAAnBA,MAAmB,EAAAkB,EAAA,CAAAC,iBAAA,CAAAC,EAAA,CAAAC,WAAA,GAAAH,EAAA,CAAAC,iBAAA,CAAAG,EAAA,CAAAC,MAAA;AAAA;;QAAnBvB,MAAmB;EAAAwB,SAAA;EAAAC,KAAA;EAAAC,IAAA;EAAAC,MAAA;EAAAC,QAAA,WAAAC,6BAAAC,EAAA,EAAAC,GAAA;IAAA,IAAAD,EAAA;MCZhCZ,EAAA,CAAAc,cAAA,aAAyD;MAEjDd,EAAA,CAAAe,SAAA,aAAoE;MACpEf,EAAA,CAAAgB,MAAA,+BACJ;MAAAhB,EAAA,CAAAiB,YAAA,EAAI;;;MAHoBjB,EAAA,CAAAkB,SAAA,GAAmB;MAAnBlB,EAAA,CAAAmB,UAAA,eAAAN,GAAA,CAAA3B,IAAA,CAAmB;;;;;;SDWlCJ,mBAAmB"},"metadata":{},"sourceType":"module","externalDependencies":[]}